<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>All Projects</title>
</head>
<body>
<!--This is the ugly test version of the page,
make this according to the styled mockup later-->
<h1 th:unless="${allowAccess}">You are not a project manager. Access Denied!</h1>
<div th:if="${allowAccess}">
    <a  th:href="@{/projects/new}">Create Project</a>
</div>
    <table th:if="${allowAccess}">
        <tr th:each="project :${projects}" >
            <th th:text="${project.name}"></th>
            <th th:text="${project.description}"></th>
            <th th:text="${project.timeBudget}"></th>
            <th th:text="${project.deadline}"></th>
            <th>
                <a th:href="@{/projects/{projectId}/project(projectId=${project.id})}">
                    Update
                </a>
                <form method="post" th:action="@{/projects/{projectId}/delete(projectId=${project.id})}" th:object="${project}"
                      onsubmit="return confirm('Er du sikker pÃ¥, at du vil slette kategorien?');">
                    <button type="submit">Delete</button>
                </form>
            </th>
        </tr>
    </table>
</body>
</html>